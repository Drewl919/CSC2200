<!DOCTYPE html>
<html lang="en">
<head>
  <title>Chutes and Ladders</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"></script>
  <style>
    .navbar-custom {
      background-color: #98bf21;
      height: 120px;
    }
    .nav-link {
      color:blue !important
    }
    .square {
         height: 40px;
         width: 40px;
         border: solid cornflowerblue;
      }

  </style>
  <script>
    let diceRoll = {
      dice : [
        {'img' : 'Die1.PNG', 'value' : 1},
        {'img' : 'Die2.PNG', 'value' : 2},
        {'img' : 'Die3.PNG', 'value' : 3},
        {'img' : 'Die4.PNG', 'value' : 4},
        {'img' : 'Die5.PNG', 'value' : 5},
        {'img' : 'Die6.PNG', 'value' : 6},
      ],
      rollTotal : 0,
      rollEm : function () {
        this.rollTotal = 0;
        let rand = Math.floor(Math.random() * diceRoll.dice.length);
        let die = diceRoll.dice[rand];

        return die;
      }
    }
    let game = {
      gameState: 'User',
      ladders : [
        {startCol:1, startRow:3, endCol:1, endRow:0},
        {startCol:5, startRow:4, endCol:5, endRow:0}
      ],
      slide : [
        {startCol:3, startRow:0, endCol:3, endRow:3},
      ],
      gotToken : function (r, c) {

      },
      myBoard:
              [
                [null, 'showl', null, 'showc', null, 'showl', null, null, null, null],
                [null, 'showl', null, 'showc', null, 'showl', null, null, null, null],
                [null, 'showl', null, 'showc', null, 'showl', null, null, null, null],
                [null, 'showl', null, 'showc', null, 'showl', null, null, null, null],
                [null, null, null, null, null, 'showl', null, null, null, null],
                [null, null, null, null, null, null, null, null, null, null],
                [null, null, null, null, null, null, null, null, null, null],
                [null, null, null, null, null, null, null, null, null, null],
                [null, null, null, null, null, null, null, null, null, null],
                [null, null, null, null, null, null, null, null, null, null]
              ]
    }
    function clickSq(sq) {
      alert(`${sq}`)
    }
    function showBoard() {
      let tRow = " ";
      for (let r = 0; r < game.myBoard.length; r++) {
        let row = game.myBoard[r];
        tRow += `<tr id="R${r}">`;
        for (let c = 0; c < game.myBoard.length; c++) {
          let tokStr = `${r}${c}`;
          let sq = game.myBoard[r][c];
          if(sq == null) {
            tRow += `<td id="${r}${c}" class="square" onClick='clickSq(${tokStr})'> ${tokStr} </td>`;
          } else if(sq == 'showl') {
            // We will show ladder over here
          }
        }
        tRow += `</tr>`;
      }
      document.getElementById("table1").innerHTML = tRow;
    }
    function rollDie() {
      // roll a number and display the right die
      let die = diceRoll.rollEm();
      // console.log(die);
      // alert("Roller!");
      let oStr = `<img src='imgs/${die.img}' height='20px' width='20px' alt="die image"/>`;
      document.getElementById('dieRoll').innerHTML = oStr;
    }
  </script>
</head>
<body onload="showBoard()">
<nav class="navbar navbar-expand-sm navbar-custom navbar-light">
  <div class="container-fluid">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link active" href="#">Active</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Link</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Link</a>
      </li>
      <li class="nav-item">
        <a class="nav-link disabled" href="#">Disabled</a>
      </li>
    </ul>
  </div>
</nav>

<div class="row">
  <div class=" col-sm-3" style="background-color:palegoldenrod; border:1px solid black;">
    <h2> Start the game</h2>

    <button type="button" id='btn1' class="btn btn-primary" onClick="rollDie();"> Roll Die </button>
    <span id="dieRoll"> Die Area </span>
  </div>
  <div class=" col-sm-9" style="background-color:palegoldenrod; border:1px solid black;">
    <span id="Game"> Game Area </span>
    <table  class="table" id="table1">
    </table>
  </div>
</div>
</body>
</html>
